### java并发框架与库

### 多线程编程

### CAS
1. 原理：乐观锁，
2. 实现: CUP提供原子操作指令，LOCK前缀汇编指令，锁定系统总线，执行LOCK时无法访问内存地址
3. 用途：无锁队列

锁：

锁消除：检测到不存在共享数据竞争，则无需加锁

偏向锁：消除无竞争情况下的同步

自旋锁：避免线程挂起恢复的系统开销，消耗CPU，1.6后自适应自旋

轻量级锁：在没有多线程竞争的前提下，减少使用操作系统互斥量产生的性能消耗（Mark Word）,栈帧中建立（Lock Record）锁记录，通过CAS更新当前对象的Mark Word 为指向锁记录的指针，成功则处于轻量级锁定状态。

重量级锁：



线程池：

拒绝策略：使用当前线程执行，抛出异常，丢弃任务，丢弃队列中最早的任务

